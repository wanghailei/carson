version: 1
git:
  remote: github
  main_branch: main
  protected_branches: [ main, master ]
hooks:
  path: .githooks
  required_hooks: [ prepare-commit-msg, pre-merge-commit, pre-push ]
scope:
  branch_pattern: '^codex/(?<lane>[^/]+)/(?<slug>.+)$'
  lane_group_map:
    tool: tool
    ui: ui
    module: domain
    feature: domain
    fix: domain
    test: test
  path_groups:
    tool: [ 'bin/**', '.githooks/**', '.github/**', '.butler.yml', '.gitignore', 'docs/butler.md' ]
    ui: [ 'app/views/**', 'app/assets/**', 'app/javascript/**', 'docs/ui_*.md' ]
    test: [ 'test/**', 'spec/**', 'features/**' ]
    domain: [ 'app/**', 'db/**', 'config/**', 'lib/**' ]
    docs: [ 'docs/**', '*.md' ]
reports:
  dir: tmp/butler
common:
  managed_files:
    - .github/copilot-instructions.md
    - .github/pull_request_template.md
